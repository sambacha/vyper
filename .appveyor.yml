image: Visual Studio 2019
environment:
  matrix:
  - GENERATOR: 'Visual Studio 14'
    PYTHON: 'C:\Python38\python.exe'
  - GENERATOR: 'Visual Studio 14 Win64'
    PYTHON: 'C:\Python38-x64\python.exe'
  - GENERATOR: 'Visual Studio 14'
    PYTHON: 'C:\Python39\python.exe'
  - GENERATOR: 'Visual Studio 14 Win64'
    PYTHON: 'C:\Python39-x64\python.exe'

init:
  - cmd: '%PYTHON% -m pip install -U pip'

build_script:
  # build and install `vyper` binary (end to end test also use it)
  - cmd: '%PYTHON% -m pip install setup.py sdist bdist_wheel'

before_test:
  - cmd: git config --global user.name "appveyor-test"
  - cmd: git config --global user.email "appveyor@test.com"
